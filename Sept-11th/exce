University Management System
We’ll track students, courses, and enrollments.
1. Database & Collections Setup
use universityDB
// Students Collection
db.students.insertMany([
{ _id: 1, name: "Rahul Sharma", age: 21, email: "rahul@example.com", city:
"Bangalore" },
{ _id: 2, name: "Priya Singh", age: 22, email: "priya@example.com", city: "Delhi" },
{ _id: 3, name: "Aman Kumar", age: 20, email: "aman@example.com", city: "Hyderabad"
},
{ _id: 4, name: "Sneha Reddy", age: 23, email: "sneha@example.com", city: "Chennai"
}
]);
// Courses Collection
db.courses.insertMany([
{ _id: 101, title: "Database Systems", department: "CS", credits: 4 },
{ _id: 102, title: "Data Structures", department: "CS", credits: 3 },
{ _id: 103, title: "Economics 101", department: "Economics", credits: 2 },
{ _id: 104, title: "Operating Systems", department: "CS", credits: 4 }
]);
// Enrollments Collection (student_id references students, course_id references
courses)
db.enrollments.insertMany([
{ student_id: 1, course_id: 101, grade: "A" },
{ student_id: 1, course_id: 103, grade: "B" },
{ student_id: 2, course_id: 101, grade: "A" },
{ student_id: 3, course_id: 102, grade: "C" },
{ student_id: 4, course_id: 104, grade: "B" }
]);

2. Exercises
CRUD Basics
1. Insert a new student into the students collection.
2. Find all students from Delhi.
3. Update Aman Kumar’s email.
4. Delete the student "Sneha Reddy".
Indexing
5. Create a unique index on student email .

6. Create a compound index on department and credits in courses .
7. Verify indexes using getIndexes() .
8. Write a query on courses that benefits from the compound index.
9. Write a query that causes a COLLSCAN instead of using the index.
Aggregation Framework
10. Find the number of students enrolled in each course ( $group ).
11. Find the average age of students per city.
12. Find the highest credit course in the CS department.
13. Show all enrollments with student names (using $lookup ).
14. Show all students with the list of courses they enrolled in (nested $lookup ).
15. Count how many students got grade "A" .
